{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","pictureName","handlePictureChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","onChange","autoComplete","autoFocus","placeholder","React","Component","Button","loadMore","onClick","ImageGalleryItem","picture","id","webformatURL","tags","src","alt","ImageGalleryItemImage","Loader","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","ImageGallery","pictures","status","page","showModal","image","nextPage","fetch","then","respone","json","prevState","hits","scrollTo","handleClickImg","console","log","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","length","map","App","searchBarSubmit","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.04b5e018.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__Qq0uB\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1pSdq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3_L3m\",\"Modal\":\"Modal_Modal__2vIN9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1MAWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__17Pjp\"};","import React from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nclass Searchbar extends React.Component {\r\n  state = {\r\n    pictureName: \"\",\r\n  };\r\n\r\n  handlePictureChange = (event) => {\r\n    this.setState({ pictureName: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.pictureName.trim() === \"\") {\r\n      toast.error(\"Введите название картинки\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.pictureName);\r\n    this.setState({ pictureName: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            name=\"pictureName\"\r\n            value={this.state.pictureName}\r\n            onChange={this.handlePictureChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nexport default function Button({ loadMore }) {\r\n  return (\r\n    <button className={s.Button} onClick={loadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem(picture, onClick) {\r\n  const { id, webformatURL, tags } = picture.props;\r\n\r\n  return (\r\n    <li key={id} className={s.ImageGalleryItem}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n}\r\n","import LoaderSpiner from \"react-loader-spinner\";\r\n\r\nexport default function Loader({ pictureName }) {\r\n  return (\r\n    <div>\r\n      <LoaderSpiner\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n      Ищем {pictureName}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          {this.props.children}\r\n          <img src=\"\" alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Button from \"../Button/Button\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nclass ImageGallery extends React.Component {\r\n  state = {\r\n    pictures: null,\r\n    status: \"idle\",\r\n    page: 1,\r\n    showModal: false,\r\n    image: null,\r\n  };\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.pictureName !== this.props.pictureName) {\r\n      await this.setState({ status: \"pending\", page: 1 });\r\n      const key = \"19324940-21d8938b8dfbc074399017655\";\r\n\r\n      fetch(\r\n        `https://pixabay.com/api/?q=${this.props.pictureName}&page=${this.state.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n      )\r\n        .then((respone) => respone.json())\r\n        .then((pictures) => {\r\n          if (pictures.hits.length === 0) {\r\n            this.setState({ status: \"rejected\" });\r\n            return;\r\n          }\r\n          this.setState({\r\n            pictures: [...pictures.hits],\r\n            status: \"resolved\",\r\n            page: this.state.page + 1,\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  nextPage = () => {\r\n    const key = \"19324940-21d8938b8dfbc074399017655\";\r\n\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${this.props.pictureName}&page=${this.state.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n      .then((respone) => respone.json())\r\n      .then((pictures) => {\r\n        this.setState((prevState) => ({\r\n          pictures: [...prevState.pictures, ...pictures.hits],\r\n          page: this.state.page + 1,\r\n        }));\r\n      });\r\n    this.scrollTo();\r\n  };\r\n\r\n  handleClickImg = (e) => {\r\n    if (e.currentTarget) {\r\n      console.log(e.currentTarget);\r\n      this.setState();\r\n    }\r\n  };\r\n\r\n  scrollTo = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState((state) => ({\r\n      showModal: !state.showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { pictures, status } = this.state;\r\n    const { pictureName } = this.props;\r\n\r\n    if (status === \"idle\") {\r\n      return (\r\n        <div className={s.ImageGallery}>Введите имя картинки для поиска</div>\r\n      );\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return <Loader className={s.ImageGallery} pictureName={pictureName} />;\r\n    }\r\n\r\n    if (status === \"rejected\") {\r\n      return (\r\n        <div className={s.ImageGallery}>\r\n          Картитинки с именем {pictureName} не существует\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <>\r\n          <ul onClick={this.handleClickImg} className={s.ImageGallery}>\r\n            {pictures.map((picture) => (\r\n              <ImageGalleryItem props={picture} />\r\n            ))}\r\n          </ul>\r\n          <Button loadMore={this.nextPage} />\r\n          <button type=\"button\" onClick={this.toggleModal}>\r\n            Open modal\r\n          </button>\r\n          {this.state.showModal && (\r\n            <Modal onClose={this.toggleModal}>\r\n              {\" \"}\r\n              <img src={pictures[0].webformatURL} alt=\"\" />\r\n            </Modal>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport s from \"./App.module.css\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\nclass App extends React.Component {\n  state = {\n    pictureName: \"\",\n  };\n\n  searchBarSubmit = (pictureName) => {\n    this.setState({ pictureName });\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.searchBarSubmit} />\n\n        <ImageGallery pictureName={this.state.pictureName} />\n\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2YuuX\",\"SearchForm\":\"Searchbar_SearchForm__dnj30\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3DxDd\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__17Q4D\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3M35w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__RvlP1\"};"],"sourceRoot":""}